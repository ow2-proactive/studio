<center>
<% _.each(jobGenericInfos, function(gi) {
    		var label = gi["Property Name"];
    		if (label == "workflow.icon" )  %>
    			<img src="<%=gi["Property Value"]%>" style="width:100px;height:100px;">
<% }) %>

<h4 class="modal-title"><%- jobName %> </h4>
<small class="font-bold"><b>Description : </b><%- jobDescription %></small><br>
<small class="font-bold"><b>Project name : </b><%- jobProjectName %></small><br>
<% _.each(jobGenericInfos, function(gi) {
    var label = gi["Property Name"];
    if (label == "bucketName" )  %>
    	<small class="font-bold"><b>Bucket name : </b><%=gi["Property Value"] %></small><br>
<% }) %>

<% _.each(jobGenericInfos, function(gi) {
	var label = gi["Property Name"];
    if (label == "Documentation" )  %>
		<small class="font-bold"><b> Documentation : </b><a href='<%=gi["Property Value"]%>' target="_blank"><%=gi["Property Value"]%></a></small><br>
<% }) %>

</center>


<br>
<ul>
    <% for (var key in jobVariables) {
         if (jobVariables.hasOwnProperty(key)) {
            var variable = jobVariables[key];
    %>
        <li class="formLayout">
            <label for="<%- key %>" class="Name" title="<%- key %>" data-toggle="tooltip"><%- key %></label>
            <% if (variable.hasOwnProperty("Model") && variable.Model.toLowerCase().indexOf('pa:list')!=-1) {  %>
                <select class="form-control variableValue" name="<%- variable.Name %>" id="<%- key %>" onchange="$('#check-button').click()" data-variable-model="<%- variable.Model %>">
                    <% var indexBegin = variable.Model.indexOf('(');
                        var indexEnd = variable.Model.lastIndexOf(')');
                        var options = variable.Model.substring(indexBegin +1 , indexEnd).split(',');
                        for (var i in options) {
                            var option = options[i].trim();
                            if (option === variable.Value) { %>
                                <option selected><%- option %></option>
                            <% } else %>
                                <option><%- option %></option>
                    <% } %>
                </select>
            <% } else if (variable.hasOwnProperty("Model") && variable.Model.toLowerCase().indexOf('pa:boolean')!=-1) {  %>
                <div class="variableValue radio-div" id="<%- key %>" onchange="$('#check-button').click()" data-variable-model="<%- variable.Model %>">
                <% if (variable.Value.toLowerCase() === 'true' || variable.Value == 1) %>
                    <label class="radio-inline"><input type="radio" name="<%- variable.Name %>" value="true" checked/>TRUE</label>
                    <label class="radio-inline"><input type="radio" name="<%- variable.Name %>" value="false"/>FALSE</label>
                <% else %>
                    <label class="radio-inline"><input type="radio" name="<%- variable.Name %>" value="true"/>TRUE</label>
                    <label class="radio-inline"><input type="radio" name="<%- variable.Name %>" value="false" checked/>FALSE</label>
                </div>
            <% } else if (variable.hasOwnProperty("Model") && variable.Model.toLowerCase().indexOf('pa:hidden')!=-1) {  %>
                <input class="variableValue textareavalues" style="border-radius: 4px; border: 1px solid #ccc; vertical-align: middle; color: #555;" name="<%- variable.Name %>" type="password" data-variable-model="<%- variable.Model %>" id="<%- key %>" value="<%- variable.Value %>" autocomplete="new-password" />
                <label class="Extra" data-toggle="tooltip" title="<%- variable.Model %>"><%- variable.hasOwnProperty("Model") ? ((variable.Model.length >= 20) ? variable.Model.substring(0, 20) + " ..." : variable.Model):""  %></label>
            <% } else if (variable.hasOwnProperty("Model") && variable.Model.toLowerCase().indexOf('pa:credential')!=-1) {  %>
                <textarea class="variableValue textareavalues" style="border-radius: 4px; border: 1px solid #ccc; vertical-align: middle; color: #555;" rows=1 name="<%- variable.Name %>" data-variable-model="<%- variable.Model %>" id="<%- key %>" ><%- variable.Value %></textarea>
                <button id="third-party-credential-button" type="button" class="btn"><%- variable.Model %></button>
            <% } else {  %>
                <textarea class="variableValue textareavalues" style="border-radius: 4px; border: 1px solid #ccc; vertical-align: middle; color: #555;" rows=1 name="<%- variable.Name %>" data-variable-model="<%- variable.Model %>" id="<%- key %>" ><%- variable.Value %></textarea>
                <label class="Extra" data-toggle="tooltip" title="<%- variable.Model %>"><%- variable.hasOwnProperty("Model") ? ((variable.Model.length >= 20) ? variable.Model.substring(0, 20) + " ..." : variable.Model):""  %></label>
            <% }  %>
        </li>
    <%} }%>
</ul>
<label style="color:red;text-align:center;width:100%"><%- errorMessage %></label>
<label style="color:green;text-align:center;width:100%"><%- infoMessage %></label>

<div id="third-party-credential-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" style="overflow:hidden; outline:none">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close third-party-credential-close" aria-hidden="true">Ã—</button>
                <h3>Third-Party Credentials</h3>
            </div>
            <div id="third-party-credential-body" class="modal-body" style="height: 250px;">
                <div id="third-party-credential-container" style="overflow-y: scroll; height: 160px;">
                    <table id="third-party-credential-table" class="table">
                        <thead>
                        <tr>
                            <th>Key</th>
                            <th>Credential</th>
                            <th> </th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
                <br>
                <div id="add-third-party-credential-container">
                    <form id="add-third-party-credential">
                        <table>
                            <tr>
                                <td><label for="new-cred-key">Key:</label></td>
                                <td><label for="new-cred-value">Credential:</label></td>
                            </tr>
                            <tr>
                                <td><input class="textareavalues" name="Key:" type="text" id="new-cred-key" /></td>
                                <td><input class="textareavalues" name="Value:" type="password" id="new-cred-value" autocomplete="new-password" /></td>
                                <td><button id="add-third-party-credential-button" class="btn"> Add </button></td>
                            </tr>
                        </table>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-white third-party-credential-close"> Close </button>
            </div>
        </div>
    </div>
</div>